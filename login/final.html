<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>3×10 Matrix (Fixed Sequence)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: Arial, Helvetica, sans-serif; text-align:center; margin:24px; }
    h1 { font-size:20px; margin-bottom:6px; }
    input { font-size:18px; padding:8px 10px; width:240px; text-align:center; }
    button { margin:8px; padding:8px 16px; font-size:16px; border-radius:6px; border:0; cursor:pointer; }
    .btn-submit { background:#3b66ff; color:#fff; }
    .btn-reset  { background:#e74c3c; color:#fff; }
    .btn-nav    { background:#1abc9c; color:#fff; }
    .wrapper { display:flex; justify-content:center; gap:12px; margin-top:12px; }
    .grid-wrap { display:inline-block; margin-top:18px; }
    .grid {
      display:grid;
      grid-template-columns: repeat(3, 90px);
      grid-auto-rows: 54px;
      gap:8px;
      background: #fff;
      padding: 12px;
      border: 2px solid #444;
      border-radius:6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .cell {
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:20px;
      border:1px solid #666;
      background:#fafafa;
      border-radius:4px;
    }
    .pager { margin-top:12px; }
  </style>
</head>
<body>
  <h1>3 × 10 Matrix (First 30 Pairs)</h1>

  <div>
    <input id="numInput" maxlength="10" placeholder="Enter 10-digit number" value="1234056789" />
  </div>

  <div class="wrapper">
    <button class="btn-submit" onclick="start()">Submit</button>
    <button class="btn-reset" onclick="resetAll()">Reset</button>
  </div>

  <div id="gridContainer" class="grid-wrap" aria-live="polite"></div>

  <div id="pager" class="pager"></div>

<script>
/* ---------- Core logic ---------- */

/**
 * Generate the 10-step sequence exactly as in your example:
 * take the last digit and insert it progressively one position left each step.
 * Example for 1234056789 -> steps where last digit '9' moves leftwards.
 */
function generateFixedSequence(numStr) {
  const n = numStr.length;
  const original = numStr.split('');
  const last = original[n-1];
  const withoutLast = original.slice(0, n-1); // 0..n-2
  const results = [];

  // i=0 => insert at index n-1 (append) -> original
  // i=1 => insert at index n-2 -> last moves left one
  // ...
  // i=n-1 => insert at index 0 -> last moves to front
  for (let i = 0; i < n; i++) {
    const insertIndex = (n - 1) - i;
    const arr = withoutLast.slice(); // copy of first n-1 elements
    arr.splice(insertIndex, 0, last);
    results.push(arr.join(''));
  }
  return results; // length n (10)
}

/**
 * Split a 10-digit string into 2-digit pairs:
 * "1234056789" => ["12","34","05","67","89"]
 */
function splitIntoPairs(s) {
  const pairs = [];
  for (let i = 0; i < s.length; i += 2) pairs.push(s.substring(i, i+2));
  return pairs;
}

/* ---------- UI & Paging ---------- */

let allPairs = [];    // array of pairs from the 10-step sequence (up to 50 pairs)
let currentPage = 0;  // 0 => first 30 pairs shown
const pageSize = 30;  // 3 x 10

function start() {
  const input = document.getElementById('numInput').value.trim();
  if (!/^\d{10}$/.test(input)) {
    alert('Please enter exactly 10 digits (0-9).');
    return;
  }

  // generate 10-step sequence + all pairs
  const seq = generateFixedSequence(input);
  allPairs = [];
  seq.forEach(item => {
    allPairs = allPairs.concat(splitIntoPairs(item));
  });

  currentPage = 0;
  renderPage();
}

function renderPage() {
  const gridContainer = document.getElementById('gridContainer');
  gridContainer.innerHTML = ''; // clear

  // determine page slice
  const startIdx = currentPage * pageSize;
  const pagePairs = allPairs.slice(startIdx, startIdx + pageSize);

  // build grid (always 3x10 cells; empty strings if not enough pairs)
  const grid = document.createElement('div');
  grid.className = 'grid';
  for (let r = 0; r < 10; r++) {
    for (let c = 0; c < 3; c++) {
      const idx = r * 3 + c;
      const value = pagePairs[idx] || '';
      const cell = document.createElement('div');
      cell.className = 'cell';
      cell.textContent = value;
      grid.appendChild(cell);
    }
  }

  gridContainer.appendChild(grid);
  renderPager();
}

function renderPager() {
  const pager = document.getElementById('pager');
  pager.innerHTML = '';

  // Previous
  const prev = document.createElement('button');
  prev.className = 'btn-nav';
  prev.textContent = '⬅ Previous';
  prev.disabled = currentPage === 0;
  prev.onclick = () => { if (currentPage>0) { currentPage--; renderPage(); } };
  pager.appendChild(prev);

  // Page info
  const info = document.createElement('span');
  info.style.margin = '0 12px';
  const totalPages = Math.max(1, Math.ceil(allPairs.length / pageSize));
  info.textContent = ` Page ${currentPage+1} / ${totalPages} `;
  pager.appendChild(info);

  // Next
  const next = document.createElement('button');
  next.className = 'btn-nav';
  next.textContent = 'Next ➡';
  next.disabled = (currentPage+1) * pageSize >= allPairs.length;
  next.onclick = () => { if ((currentPage+1)*pageSize < allPairs.length) { currentPage++; renderPage(); } };
  pager.appendChild(next);
}

function resetAll() {
  document.getElementById('numInput').value = '';
  document.getElementById('gridContainer').innerHTML = '';
  document.getElementById('pager').innerHTML = '';
  allPairs = [];
  currentPage = 0;
}

/* If you want the example prefilled, uncomment the next line to auto-run on page load:
   start();
*/
</script>
</body>
</html>